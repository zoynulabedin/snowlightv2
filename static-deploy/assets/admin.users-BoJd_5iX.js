import{r as m,j as e}from"./index-BJHAE5s4.js";import{L as o}from"./Layout-BPZhSFba.js";import{u as h,L as a,F as d}from"./components-BzXIzYa5.js";import{c as p}from"./createLucideIcon-iNHoReR6.js";import{S as u}from"./search-eCLJacej.js";import{F as j}from"./funnel-C-5Wa6A1.js";import{U as n}from"./users-ChKsnVKg.js";import{C as y}from"./crown-BRMdJP8P.js";import{H as g}from"./heart-Dn2OeVKi.js";import{S as f,T as N}from"./trash-2-Byp-nbS6.js";import{S as v}from"./shield-BdUycjnX.js";import"./LanguageContext-BFw3fmyY.js";import"./AuthContext-CUPKj7Oa.js";import"./index-CiN_UGES.js";/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],b=p("user-plus",w);function q(){const{user:k,users:l,totalUsers:c,filters:t}=h(),[S,U]=m.useState(null),x=(s,r)=>{if(r)return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(v,{className:"w-3 h-3 mr-1"}),"ADMIN"]});const i={USER:"bg-gray-100 text-gray-800",MODERATOR:"bg-blue-100 text-blue-800",ADMIN:"bg-red-100 text-red-800",SUPER_ADMIN:"bg-purple-100 text-purple-800"};return e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i[s]||i.USER}`,children:s})};return e.jsx(o,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"사용자 관리"}),e.jsxs("p",{className:"text-gray-600",children:["총 ",c.toLocaleString(),"명의 사용자"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(a,{to:"/admin",className:"text-gray-600 hover:text-gray-900",children:"← 관리자 대시보드"}),e.jsxs(a,{to:"/admin/users/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"새 사용자 추가"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:e.jsx("div",{className:"p-6",children:e.jsxs(d,{method:"get",className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"검색"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",name:"search",defaultValue:t.search,placeholder:"사용자명, 이메일, 이름",className:"pl-10 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"역할"}),e.jsxs("select",{name:"role",defaultValue:t.role,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:"모든 역할"}),e.jsx("option",{value:"USER",children:"일반 사용자"}),e.jsx("option",{value:"MODERATOR",children:"모더레이터"}),e.jsx("option",{value:"ADMIN",children:"관리자"}),e.jsx("option",{value:"SUPER_ADMIN",children:"슈퍼 관리자"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"VIP 상태"}),e.jsxs("select",{name:"vip",defaultValue:t.vip,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:"모든 상태"}),e.jsx("option",{value:"true",children:"VIP 회원"}),e.jsx("option",{value:"false",children:"일반 회원"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{type:"submit",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"필터 적용"]})})]})})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"사용자"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"역할"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"VIP"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"하트"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"활동"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"가입일"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"작업"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.avatar?e.jsx("img",{className:"h-10 w-10 rounded-full",src:s.avatar,alt:""}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx(n,{className:"w-5 h-5 text-gray-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.username}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email}),s.name&&e.jsx("div",{className:"text-xs text-gray-400",children:s.name})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x(s.role,s.isAdmin)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.isVip?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),s.vipType]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"일반"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"w-4 h-4 text-red-500 mr-1"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.hearts.toLocaleString()})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.jsxs("div",{children:["업로드: ",s._count.uploads]}),e.jsxs("div",{children:["플레이리스트: ",s._count.playlists]}),e.jsxs("div",{children:["팔로워: ",s.followers]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(s.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(a,{to:`/admin/users/${s.id}/edit`,className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(f,{className:"w-4 h-4"})}),e.jsxs(d,{method:"post",className:"inline",children:[e.jsx("input",{type:"hidden",name:"action",value:"deleteUser"}),e.jsx("input",{type:"hidden",name:"userId",value:s.id}),e.jsx("button",{type:"submit",className:"text-red-600 hover:text-red-900",onClick:r=>{confirm("정말로 이 사용자를 삭제하시겠습니까?")||r.preventDefault()},children:e.jsx(N,{className:"w-4 h-4"})})]})]})})]},s.id))})]})})}),l.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[e.jsx(n,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"사용자를 찾을 수 없습니다"}),e.jsx("p",{className:"text-gray-500",children:"검색 조건을 변경해보세요."})]})]})]})})}export{q as default};
